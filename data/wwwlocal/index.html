<html>

<head>
    <title>Master Control</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main class="container">
        <h1><strong>ESP LOCAL
                DASHBOARD</strong></span></h1>
        <table align="center" border="1" cellpadding="1" cellspacing="1" style="width:500px">
            <caption>
                <p><span style="font-size:16px"><strong>ESP32 Data</strong></span></p>
            </caption>
            <tbody>
                <tr>
                    <td>CPU Frequency</td>
                    <td id="cpuFreq">%cpuFreq%</td>
                </tr>
                <tr>
                    <td>Free Heap</td>
                    <td id="freeHeap">%freeHeap%</td>
                </tr>
                <tr>
                    <td>SDK Version</td>
                    <td id="sdkVersion">%sdkVersion%</td>
                </tr>
            </tbody>
        </table>

        <p style="text-align:center">&nbsp;</p>
    </main>
</body>

<script>
    setInterval(function () {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var a = this.responseText.split(';');

                document.getElementById("cpuFreq").innerHTML = a[0];
                document.getElementById("freeHeap").innerHTML = a[1];
                document.getElementById("sdkVersion").innerHTML = a[2];
            }
        };
        xhttp.open("GET", "/allvalues", true);
        xhttp.send();
    }, 50);
</script>

</html>